Ben Eater's 8-bit computer emulator.
This is an emulator of a computer featured in Ben Eater's popular video series documenting design and build of
a simple computer based on a SAP-1 design from Albert Paul Malvino's book Digital Computer Electronics.

Python 3 ONLY

To start a computer:

python3 main.py <filename>

Included programs: fibonacci, add3, divisor
*DIVISOR (by SCOTT SHAMBAUGH) calculates largest divisor of a number.
You need to MANUALLY enter number in binary format in memory locations [14] and [15] by editing the compiled file.
By default the number is 84. Of course.

.as8 files are assembly code files. The computer understands only 0's and 1's, so don't load them.
Files without extension are executables.

To compile an executable file start "python 3 compiler.py". It will tell you what to do.
If you want to include predefined values in the program memory, feel free to manually edit the output files afterwards.
Each line corresponds to one byte in memory.


##PROGRAMMING##
Instruction set for the SAP is very, very rudimentary.

Total memory is 16 bytes.
There are 2 registers: a and b, both 8-bit. Only register a is directly accessible.
The sum of operations is always stored in register a.

Program can consist of maximum 16 lines, each instruction takes exactly 1 byte of memory.
Memory is addressed from 0 to 15.

Available instructions:


nop     -   no operation
lda, %x -   load byte from memory address x to register a
add, %x -   add a byte from memory address x to register a and store in register a
sub, %x -   subtract a byte from memory address x to register a and store in register a
sta, %x -   store byte from register a to memory address
ldi, x  -   load 4-bit number x to register a
jmp, %x -   change program counter to memory address x
jc,  %x -   change program counter to memory address x if previous add or sub operation enabled carry flag
jz   %x -   change program counter to memory address x if previous add or sub operation enabled zero flag
out     -   print value of register A to screen
hlt     -   Halt! Hande hoch!


Example:

ldi, 3
sta, %15
out
add, %15
jc, %6
jmp, %3
hlt

Copy lines above and save it as test.as8 file in folder main.py is stored.
run "python3 compiler.py"
Run "python3 test"

Will print 3, 6, 9, 12, 15 etc and will stop when the result exceeds 255.